<nz-drawer nzClosable [nzVisible]="visible" nzPlacement="right" [nzTitle]="isEditing ? '编辑环境':'添加环境'" [nzFooter]="create" [nzWidth]="500" (nzOnClose)="onClose()">
    <ng-container *nzDrawerContent>
        <div class="env-drawer-layout">
            <form id="myForm" nz-form [formGroup]="envForm" (ngSubmit)="doSubmit()" nzLayout="vertical" class="layout-form">

                <nz-form-item>
                    <nz-form-label>环境名称</nz-form-label>
                    <nz-form-control nzErrorTip="环境名称！">
                        <nz-input-group>
                            <input type="text" nz-input formControlName="name" placeholder="环境名称" />
                        </nz-input-group>
                    </nz-form-control>
                </nz-form-item>
                <nz-form-item>
                  <nz-form-label>环境描述</nz-form-label>
                  <nz-form-control>
                      <nz-input-group>
                          <input type="text" nz-input formControlName="description" placeholder="环境描述" />
                      </nz-input-group>
                  </nz-form-control>
              </nz-form-item>
            </form>

            <ng-container *ngIf="env && env.id">
              <section>
                <nz-space [nzSize]="'middle'">
                  <button *nzSpaceItem nz-button [nzType]="'primary'" (click)="onRegenerate(envKeySecret)">重新生成 Secret</button>
                  <!-- <button *nzSpaceItem style="background-color: #9A95CC;color: #fff;" nz-button [nzType]="'default'" (click)="onRegenerate(envKeyMobileSecret)">重新生成 Mobile Secret</button> -->
                </nz-space>
              </section>
          </ng-container>
        </div>
    </ng-container>
  <ng-template #create>
    <button (click)="doSubmit()" nz-button style="float: right"  class="form-button form-margin" [nzType]="'primary'" [nzLoading]="isLoading">
      {{isEditing ? '更新' : '创建'}}</button>
  </ng-template>
</nz-drawer>

